@model EmployeeViewModel
@*add namespace in web.config to see EmployeeVM*@

@{
    ViewBag.Title = ViewBag.Action;
}

<h2>@ViewBag.Action Employee</h2>

@using (Html.BeginForm(ViewBag.Action as string,"Employees",FormMethod.Post))
{
    if (ViewBag.Action =="Edit")
    {
        @Html.HiddenFor(e=>e.Employee.Id)
    }

       <div class="form-group">
           @*  <label>Name</label>*@
           @Html.DisplayNameFor(e => e.Employee.Name)
           @Html.EditorFor(e => e.Employee.Name)
           @Html.ValidationMessageFor(e => e.Employee.Name)
       </div>

       <div class="form-group">
           @*<label>Age</label>*@
           @Html.LabelFor(e => e.Employee.Age)
           @*@Html.TextBoxFor(e => e.Employee.Age, new { @class = "form-control" })*@
           @Html.EditorFor(e => e.Employee.Age, new { htmlAttributes = new { @class = "form-control" } })
           @Html.ValidationMessageFor(e => e.Employee.Age)
       </div>

       <div class="form-group">
           @*<label>Gender</label>*@
           @Html.LabelFor(e => e.Employee.Gender)
           @Html.EnumDropDownListFor(e => e.Employee.Gender, new { @class = "form-control" })
           @Html.ValidationMessageFor(e => e.Employee.Gender)
       </div>

       <div class="form-group">
           @*<label>Email</label>*@
           @Html.LabelFor(e => e.Employee.Email)
           @Html.EditorFor(e => e.Employee.Email, new { htmlAttributes = new { @class = "form-control" } })
           @Html.ValidationMessageFor(e => e.Employee.Email)
       </div>

       <div class="form-group">
           @*<label>Department</label>*@
           @Html.LabelFor(e => e.Employee.Department)
           @Html.DropDownListFor(e => e.Employee.FK_depId, new SelectList(Model.Departments, "Id", "Name"), "Select Department", new { @class = "form-control" })
           @Html.ValidationMessageFor(e => e.Employee.FK_depId)
       </div>
       <div class="form-group">
           @*<label>Address</label>*@
           @Html.LabelFor(e => e.Employee.Address)
           @*@Html.TextAreaFor(e => e.Employee.Address, new { @class = "form-control" })*@
           @Html.EditorFor(e => e.Employee.Address, new { htmlAttributes = new { @class = "form-control" } })
           @Html.ValidationMessageFor(e => e.Employee.Address)
       </div>
   <div>
       <input type="submit" value="@ViewBag.Action" class="btn btn-primary"/>
       <a href="/employees/index" class="btn btn-link"> Back to List</a>
   </div>
}
